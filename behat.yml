default:
    extensions:
        Behat\MinkExtension:
            base_url: 'http://localhost'
            goutte: ~
            sahi: ~
            selenium2:
                capabilities: { "browser": "firefox", "version": "17"}
            javascript_session: sahi
            browser_name: firefox

        Behat\Symfony2Extension:
            kernel:
                bootstrap: ezpublish/autoload.php
                path: ezpublish/EzPublishKernel.php
                class: EzPublishKernel
                env: behat
                debug: true

# Sylius START
    formatters:
        pretty:
            verbose:  true
            paths:    false
            snippets: false

    suites:
        account:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\AddressingBundle\Behat\AddressingContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\ProductBundle\Behat\ProductContext
                - Sylius\Bundle\ResourceBundle\Behat\BaseContext
                - Sylius\Bundle\ShippingBundle\Behat\ShippingContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@account && ~@javascript"

        addressing:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\AddressingBundle\Behat\AddressingContext
                - Sylius\Bundle\AddressingBundle\Behat\FormContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\ResourceBundle\Behat\BaseContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@addressing && ~@javascript"

        cart:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\ProductBundle\Behat\ProductContext
                - Sylius\Bundle\TaxonomyBundle\Behat\TaxonomyContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@cart && ~@javascript"

        checkout:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\AddressingBundle\Behat\AddressingContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\PaymentBundle\Behat\PaymentContext
                - Sylius\Bundle\ProductBundle\Behat\ProductContext
                - Sylius\Bundle\TaxationBundle\Behat\TaxationContext
                - Sylius\Bundle\TaxonomyBundle\Behat\TaxonomyContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@checkout && ~@javascript"

        contact:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
                - Sylius\Bundle\ResourceBundle\Behat\BaseContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\ContactBundle\Behat\ContactContext
            filters:
                tags: "@contact && ~@javascript"

        currencies:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
                - Sylius\Bundle\ProductBundle\Behat\ProductContext
                - Sylius\Bundle\ResourceBundle\Behat\BaseContext
                - Sylius\Bundle\TaxonomyBundle\Behat\TaxonomyContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
            filters:
                tags: "@currencies && ~@javascript"

        dashboard:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\AddressingBundle\Behat\AddressingContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\ProductBundle\Behat\ProductContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@dashboard && ~@javascript"

        homepage:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@homepage && ~@javascript"

        inventory:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\ProductBundle\Behat\ProductContext
                - Sylius\Bundle\ResourceBundle\Behat\BaseContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@inventory && ~@javascript"

        localization:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\ResourceBundle\Behat\BaseContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@localization && ~@javascript"

        oauth:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\CoreBundle\Behat\OAuthContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
            filters:
                tags: @oauth

        orders:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\AddressingBundle\Behat\AddressingContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\ProductBundle\Behat\ProductContext
                - Sylius\Bundle\ResourceBundle\Behat\BaseContext
                - Sylius\Bundle\TaxationBundle\Behat\TaxationContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@orders && ~@javascript"

        payments:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\PaymentBundle\Behat\PaymentContext
                - Sylius\Bundle\ResourceBundle\Behat\BaseContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@payments && ~@javascript"

        pricing:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\AddressingBundle\Behat\AddressingContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
                - Sylius\Bundle\ProductBundle\Behat\ProductContext
                - Sylius\Bundle\TaxationBundle\Behat\TaxationContext
                - Sylius\Bundle\TaxonomyBundle\Behat\TaxonomyContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
            filters:
                tags: "@pricing && ~@javascript"

        products:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
                - Sylius\Bundle\ProductBundle\Behat\ProductContext
                - Sylius\Bundle\ResourceBundle\Behat\BaseContext
                - Sylius\Bundle\TaxationBundle\Behat\TaxationContext
                - Sylius\Bundle\TaxonomyBundle\Behat\TaxonomyContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
            filters:
                tags: "@products && ~@javascript"

        promotions:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\AddressingBundle\Behat\AddressingContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\ProductBundle\Behat\ProductContext
                - Sylius\Bundle\PromotionBundle\Behat\PromotionContext
                - Sylius\Bundle\ResourceBundle\Behat\BaseContext
                - Sylius\Bundle\TaxationBundle\Behat\TaxationContext
                - Sylius\Bundle\TaxonomyBundle\Behat\TaxonomyContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@promotions && ~@javascript"

        settings:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@settings && ~@javascript"

        shipping:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\AddressingBundle\Behat\AddressingContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\ProductBundle\Behat\ProductContext
                - Sylius\Bundle\ResourceBundle\Behat\BaseContext
                - Sylius\Bundle\ShippingBundle\Behat\ShippingContext
                - Sylius\Bundle\TaxationBundle\Behat\TaxationContext
                - Sylius\Bundle\TaxonomyBundle\Behat\TaxonomyContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@shipping && ~@javascript"

        taxation:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\AddressingBundle\Behat\AddressingContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\ResourceBundle\Behat\BaseContext
                - Sylius\Bundle\TaxationBundle\Behat\TaxationContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@taxation && ~@javascript"

        taxonomies:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\ResourceBundle\Behat\BaseContext
                - Sylius\Bundle\TaxonomyBundle\Behat\TaxonomyContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@taxonomies && ~@javascript"

        users:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\AddressingBundle\Behat\AddressingContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\ProductBundle\Behat\ProductContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
            filters:
                tags: "@users && ~@javascript"

        javascript:
            contexts:
                - Behat\MinkExtension\Context\MinkContext
                - Sylius\Bundle\CoreBundle\Behat\HookContext
                - Sylius\Bundle\AddressingBundle\Behat\AddressingContext
                - Sylius\Bundle\CoreBundle\Behat\CoreContext
                - Sylius\Bundle\MoneyBundle\Behat\MoneyContext
                - Sylius\Bundle\PaymentBundle\Behat\PaymentContext
                - Sylius\Bundle\ProductBundle\Behat\ProductContext
                - Sylius\Bundle\PromotionBundle\Behat\PromotionContext
                - Sylius\Bundle\ResourceBundle\Behat\BaseContext
                - Sylius\Bundle\ShippingBundle\Behat\ShippingContext
                - Sylius\Bundle\TaxonomyBundle\Behat\TaxonomyContext
                - Sylius\Bundle\TaxationBundle\Behat\TaxationContext
                - Sylius\Bundle\WebBundle\Behat\WebContext
            filters:
                tags: "@javascript"
# Sylius END


rest:
    suites:
        fullJson:
            paths: [ vendor/ezsystems/ezpublish-kernel/eZ/Bundle/EzPublishRestBundle/Features ]
            contexts: 
                - eZ\Bundle\EzPublishRestBundle\Features\Context\RestContext:
                    url: http://localhost/api/ezp/v2/
                    driver: BuzzDriver
                    type: json
        fullXml:
            paths: [ vendor/ezsystems/ezpublish-kernel/eZ/Bundle/EzPublishRestBundle/Features ]
            contexts: 
                - eZ\Bundle\EzPublishRestBundle\Features\Context\RestContext:
                    url: http://localhost/api/ezp/v2/
                    driver: BuzzDriver
                    type: xml
        guzzle:
            paths: [ vendor/ezsystems/ezpublish-kernel/eZ/Bundle/EzPublishRestBundle/Features ]
            contexts: 
                - eZ\Bundle\EzPublishRestBundle\Features\Context\RestContext:
                    url: http://localhost/api/ezp/v2/
                    driver: GuzzleDriver
                    type: json

demo:
    suites:
        content:
            paths: [ vendor/ezsystems/demobundle/EzSystems/DemoBundle/Features/Content ]
            contexts: [ EzSystems\DemoBundle\Features\Context\Content\Context ]

legacyAdmin:
    extensions:
        Behat\MinkExtension:
            base_url: http://localhost/behat_site_admin
    suites:
        full:
            paths: [ vendor/ezsystems/ezpublish-kernel/eZ/Bundle/EzPublishLegacyBundle/Features/Admin ]
            contexts: [ eZ\Bundle\EzPublishLegacyBundle\Features\Context\Admin\Context ]

setupWizard:
    suites:
        demoContent:
            paths: [ vendor/ezsystems/ezpublish-kernel/eZ/Bundle/EzPublishLegacyBundle/Features/SetupWizard ]
            contexts: [ eZ\Bundle\EzPublishLegacyBundle\Features\Context\SetupWizard\Context ]
            filters:
                tags: '@demo && ~@clean && ~@skipByDefault'
        demoClean:
            paths: [ vendor/ezsystems/ezpublish-kernel/eZ/Bundle/EzPublishLegacyBundle/Features/SetupWizard ]
            contexts: [ eZ\Bundle\EzPublishLegacyBundle\Features\Context\SetupWizard\Context ]
            filters:
                tags: '@demo && ~@content && ~@skipByDefault'
        demoContentNonUniqueDB:
            paths: [ vendor/ezsystems/ezpublish-kernel/eZ/Bundle/EzPublishLegacyBundle/Features/SetupWizard ]
            contexts: [ eZ\Bundle\EzPublishLegacyBundle\Features\Context\SetupWizard\Context ]
            filters:
                tags: '@demo && ~@clean && ~@uniqueDatabaseSystem'
        demoCleanNonUniqueDB:
            paths: [ vendor/ezsystems/ezpublish-kernel/eZ/Bundle/EzPublishLegacyBundle/Features/SetupWizard ]
            contexts: [ eZ\Bundle\EzPublishLegacyBundle\Features\Context\SetupWizard\Context ]
            filters:
                tags: '@demo && ~@content && ~@uniqueDatabaseSystem'
